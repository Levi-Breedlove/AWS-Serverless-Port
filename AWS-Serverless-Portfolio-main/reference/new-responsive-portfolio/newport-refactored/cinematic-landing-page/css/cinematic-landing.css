/* Cinematic Landing Page - Minimal CSS Helpers */
/* This file contains ONLY visibility and animation control utilities */
/* NO colors, shadows, or fonts should be added here */

/* ============================================
   PREVENT CANVAS EDGES SHOWING DURING SHAKE
   ============================================ */
html, body {
  overflow: hidden !important;
  position: relative;
}

/* ============================================
   BLUR-TO-CLEAR FADE-IN ANIMATION SYSTEM
   Elements start blurred and hidden, then animate to clear and visible
   GPU-accelerated for buttery smooth 60fps
   ============================================ */

/* Initial state: blurred and hidden */
/* Override main.css defaults to ensure consistent starting state */
.hero-text {
  opacity: 0 !important;
  transform: translate3d(0, 0, 0) scale(0.95);
  filter: blur(10px);
  /* GPU acceleration - promote to compositor layer */
  will-change: transform, opacity, filter;
  backface-visibility: hidden;
  -webkit-backface-visibility: hidden;
  /* Smooth expo-out easing for natural deceleration */
  transition: 
    opacity 1s cubic-bezier(0.16, 1, 0.3, 1),
    transform 1s cubic-bezier(0.16, 1, 0.3, 1),
    filter 1s cubic-bezier(0.16, 1, 0.3, 1);
}

/* Visible state: clear and fully visible */
.hero-text.visible {
  opacity: 1 !important;
  transform: translate3d(0, 0, 0) scale(1);
  filter: blur(0px);
}

/* Button initial state: blurred, scaled down, and hidden */
.btn.primary {
  opacity: 0 !important;
  transform: translate3d(0, 20px, 0) scale(0.9);
  filter: blur(8px);
  /* GPU acceleration */
  will-change: transform, opacity, filter;
  backface-visibility: hidden;
  -webkit-backface-visibility: hidden;
  transition:
    opacity 1s cubic-bezier(0.16, 1, 0.3, 1),
    transform 1s cubic-bezier(0.16, 1, 0.3, 1),
    filter 1s cubic-bezier(0.16, 1, 0.3, 1);
}

/* Button visible state: clear and fully visible with smooth animation */
.btn.primary.visible {
  visibility: visible !important;
  opacity: 1 !important;
  transform: translate3d(0, 0, 0) scale(1);
  filter: blur(0px);
}

/* Button click effect - natural press-in feel */
.btn.primary.visible:active {
  transform: translate3d(0, 2px, 0) scale(0.95) !important;
  transition: transform 0.1s cubic-bezier(0.2, 0, 0, 1) !important;
}

.btn.primary.visible .btn__surface:active {
  transform: translate3d(0, 1px, 0);
  transition: transform 0.1s cubic-bezier(0.2, 0, 0, 1);
}

/* ============================================
   LEGACY VISIBILITY HELPERS (for stats and other elements)
   ============================================ */

/* Simple visibility toggle for elements that don't need blur animation */
.is-hidden {
  opacity: 0 !important;
  pointer-events: none;
}

/* Visibility helper for complete element hiding */
[data-vis="off"] {
  visibility: hidden;
}

/* ============================================
   RESPONSIVE SPACING FOR HERO ELEMENTS
   Spacing now handled by Tailwind classes matching main site
   ============================================ */

/* ============================================
   ELEGANT ASCEND EFFECT
   Text gracefully fades out while rising upward
   Professional, Apple-style transition
   GPU-accelerated with continuous interpolation
   ============================================ */

/* ============================================
   SWIPE EXIT ANIMATIONS
   Title swipes left, subtitle swipes right
   Smooth, cinematic exit transitions
   ============================================ */

/* Swipe left animation for title */
.hero-text.swipe-left {
  animation: swipe-left-exit 600ms cubic-bezier(0.4, 0, 0.2, 1) forwards;
  will-change: transform, opacity;
  backface-visibility: hidden;
  -webkit-backface-visibility: hidden;
}

@keyframes swipe-left-exit {
  0% {
    opacity: 1;
    transform: translate3d(0, 0, 0) scale(1);
  }
  100% {
    opacity: 0;
    transform: translate3d(-100vw, 0, 0) scale(0.95);
  }
}

/* Swipe right animation for subtitle */
.hero-text.swipe-right {
  animation: swipe-right-exit 600ms cubic-bezier(0.4, 0, 0.2, 1) forwards;
  will-change: transform, opacity;
  backface-visibility: hidden;
  -webkit-backface-visibility: hidden;
}

@keyframes swipe-right-exit {
  0% {
    opacity: 1;
    transform: translate3d(0, 0, 0) scale(1);
  }
  100% {
    opacity: 0;
    transform: translate3d(100vw, 0, 0) scale(0.95);
  }
}

/* Stats reveal in UFO beam effect */
#stats.revealing {
  animation: reveal-in-beam 800ms cubic-bezier(0.16, 1, 0.3, 1) forwards;
  will-change: transform, opacity;
  backface-visibility: hidden;
  -webkit-backface-visibility: hidden;
  /* Make stats more visible against the beam */
  text-shadow: 
    0 0 20px rgba(255, 255, 255, 0.8),
    0 0 40px rgba(168, 85, 247, 0.6),
    0 0 60px rgba(99, 102, 241, 0.4);
}

@keyframes reveal-in-beam {
  0% {
    opacity: 0;
    transform: translate(-50%, -50%) scale(0.8);
    filter: blur(10px);
  }
  50% {
    opacity: 0.8;
    filter: blur(2px);
  }
  100% {
    opacity: 1;
    transform: translate(-50%, -50%) scale(1);
    filter: blur(0px);
  }
}

/* Make counter numbers glow brighter in the beam */
#stats.revealing [data-target] {
  text-shadow: 
    0 0 10px rgba(255, 255, 255, 1),
    0 0 20px rgba(255, 255, 255, 0.8),
    0 0 30px rgba(168, 85, 247, 0.6);
}

/* Stats glow fade-off - smooth transition when ship leaves */
#stats.glow-fade {
  transition: text-shadow 800ms cubic-bezier(0.16, 1, 0.3, 1);
  text-shadow: none !important;
}

#stats.glow-fade [data-target] {
  transition: text-shadow 800ms cubic-bezier(0.16, 1, 0.3, 1);
  text-shadow: none !important;
}

/* Stats grow animation removed - using canvas for crisp scaling */

/* ============================================
   SECOND BURST EFFECT (Larger version of native click burst)
   Triggered when beam shoots out - same as click burst but 1.3x larger
   ============================================ */

/* Larger burst animation - same as epic-glow but scaled up */
@keyframes epic-glow-large {
  0% {
    transform: scale(1);
    filter: blur(25px);
    opacity: 0;
  }
  30% {
    transform: scale(1.5);
    filter: blur(32px);
    opacity: 1;
  }
  100% {
    transform: scale(1.9);
    filter: blur(38px);
    opacity: 0;
  }
}

/* Second burst class - uses larger inset and animation */
.btn.primary.burst-two::after {
  inset: -18px !important; /* Slightly larger than default -12px */
  animation: epic-glow-large 0.9s ease-out !important;
}

/* Ensure button glow effects stay above canvas background */
.btn.primary::after {
  z-index: 1 !important;
}

.btn.primary::before {
  z-index: 1 !important;
}

/* ============================================
   BEAUTIFUL BUTTON LAUNCH EFFECT
   Button glows intensely and launches upward like a rocket
   RGB border spins faster and intensifies before launch
   ============================================ */

/* Pre-launch charging state - RGB spins faster, glow intensifies */
@keyframes rgb-charge-spin {
  0% {
    filter: blur(6px);
    opacity: 0.75;
  }
  50% {
    filter: blur(10px);
    opacity: 1;
  }
  100% {
    filter: blur(14px);
    opacity: 1;
  }
}

.btn.primary.charging::before {
  animation: orbit 0.5s linear infinite, rgb-charge-spin 400ms ease-out forwards !important;
  will-change: transform, filter, opacity;
}

/* Button glow intensifies during charge */
.btn.primary.charging {
  box-shadow: 
    0 0 30px rgba(168, 85, 247, 0.6),
    0 0 60px rgba(139, 92, 246, 0.4),
    0 0 90px rgba(99, 102, 241, 0.3),
    inset 0 0 0 1px rgba(255, 255, 255, 0.2) !important;
}

/* Launch state - button shoots up with trail effect */
.btn.primary.launching {
  will-change: transform, opacity;
  backface-visibility: hidden;
  -webkit-backface-visibility: hidden;
}

/* RGB border stays vibrant during launch */
.btn.primary.launching::before {
  /* Keep RGB ring visible and spinning */
  animation: orbit 1s linear infinite !important;
  opacity: 0.75 !important;
  filter: blur(8px) !important;
}

/* Launched state - button at top, RGB ring stays visible */
.btn.primary.launched::before {
  opacity: 0.75 !important;
  filter: blur(8px) !important;
  animation: orbit 2s linear infinite !important;
}

.btn.primary.launched {
  box-shadow: 
    0 0 20px rgba(168, 85, 247, 0.4),
    0 0 40px rgba(139, 92, 246, 0.3),
    inset 0 0 0 1px rgba(255, 255, 255, 0.15) !important;
}

/* ============================================
   FINAL FADE OUT SEQUENCE
   Button ascends and disappears beautifully
   Beam fades as button flies away
   Stats remain visible as the final element
   ============================================ */

/* Stats grow and fade out animation (for page transition) */
@keyframes stats-grow-fade {
  0% {
    opacity: 1;
    transform: translate(-50%, -50%) scale(1);
  }
  100% {
    opacity: 0;
    transform: translate(-50%, -50%) scale(1.5);
  }
}

#stats.fading-out {
  animation: stats-grow-fade 1200ms cubic-bezier(0.16, 1, 0.3, 1) forwards;
  will-change: transform, opacity;
}

/* Button ascending animation - flies up and shrinks into the distance */
/* Uses inline transform as starting point, then adds upward movement */
.btn.primary.ascending {
  animation: button-ascend 1000ms cubic-bezier(0.16, 1, 0.3, 1) forwards;
  will-change: transform, opacity;
  pointer-events: none;
}

@keyframes button-ascend {
  0% {
    opacity: 1;
  }
  30% {
    opacity: 0.9;
  }
  100% {
    opacity: 0;
    /* The transform is applied additively via JS - this just adds the upward motion */
    transform: translateY(-150vh) scale(0.1);
  }
}

/* RGB ring stays visible as button ascends - keeps spinning */
.btn.primary.ascending::before {
  /* Maintain RGB ring throughout ascent */
  animation: orbit 1.5s linear infinite !important;
  opacity: 0.75 !important;
  filter: blur(8px) !important;
}

/* ============================================
   ROCKET FIRE EFFECT
   Animated thrust/fire trail beneath the button
   Creates the rocket ship launch visual
   ============================================ */

/* Rocket fire animation - flickering thrust */
@keyframes rocket-fire-flicker {
  0%, 100% {
    opacity: 0.9;
    transform: translateX(-50%) scaleY(1) scaleX(1);
  }
  25% {
    opacity: 1;
    transform: translateX(-50%) scaleY(1.15) scaleX(0.9);
  }
  50% {
    opacity: 0.85;
    transform: translateX(-50%) scaleY(0.95) scaleX(1.1);
  }
  75% {
    opacity: 1;
    transform: translateX(-50%) scaleY(1.1) scaleX(0.95);
  }
}

/* Rocket fire trail - appears below button during launch */
.btn.primary.rocket-fire::after {
  content: '';
  position: absolute;
  bottom: -60px;
  left: 50%;
  transform: translateX(-50%);
  width: 30px;
  height: 80px;
  background: linear-gradient(
    to bottom,
    rgba(255, 200, 100, 0.95) 0%,
    rgba(255, 150, 50, 0.9) 20%,
    rgba(255, 100, 30, 0.8) 40%,
    rgba(255, 50, 20, 0.6) 60%,
    rgba(200, 30, 10, 0.3) 80%,
    transparent 100%
  );
  border-radius: 50% 50% 50% 50% / 20% 20% 80% 80%;
  filter: blur(3px);
  animation: rocket-fire-flicker 0.1s ease-in-out infinite;
  pointer-events: none;
  z-index: -1;
}

/* Inner bright core of the flame */
.btn.primary.rocket-fire::before {
  /* Keep the RGB ring but add extra glow */
  box-shadow: 
    0 0 30px rgba(255, 150, 50, 0.6),
    0 0 60px rgba(255, 100, 30, 0.4) !important;
}

/* Button fade out animation (legacy - kept for compatibility) */
@keyframes button-fade-out {
  0% {
    opacity: 1;
  }
  100% {
    opacity: 0;
  }
}

.btn.primary.fading-out {
  animation: button-fade-out 800ms cubic-bezier(0.16, 1, 0.3, 1) forwards;
  will-change: opacity;
}

/* ============================================
   SMOOTH BUTTON FLIP ANIMATION
   Maximum GPU optimization for zero jitter
   ============================================ */

.btn.primary.flipping {
  will-change: transform;
  backface-visibility: hidden;
  -webkit-backface-visibility: hidden;
  transform-style: preserve-3d;
  contain: layout style;
}

/* Remove button's own glow effect (keeps canvas spotlight) */
.btn.primary.no-glow::before {
  opacity: 0 !important;
  animation: none !important;
}

.btn.primary.no-glow {
  box-shadow: 
    inset 0 0 0 1px rgba(255, 255, 255, 0.1) !important;
}

/* ============================================
   RESPONSIVE BUTTON SIZING
   Skinnier pill for elegant, modern look
   ============================================ */

/* Base button - skinnier elongated pill */
.btn.primary {
  --btn-w: clamp(80px, 10vw, 120px);
  --btn-h: clamp(28px, 3.5vw, 38px);
}

/* Skinnier text with tighter padding - perfectly centered */
.btn__surface {
  padding: 0 clamp(12px, 2vw, 20px);
  font-size: clamp(7px, 1vw, 11px);
  letter-spacing: 0.05em;
  /* Ensure perfect centering */
  display: inline-flex !important;
  align-items: center !important;
  justify-content: center !important;
  text-align: center !important;
}

/* Accessibility: Respect user motion preferences */
@media (prefers-reduced-motion: reduce) {
  /* Disable all animations and transitions globally */
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
  
  /* Override .is-hidden to show elements immediately for reduced-motion users */
  .is-hidden {
    opacity: 1 !important;
    pointer-events: auto;
  }
}
